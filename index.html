<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Recomendador de Restaurantes</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header>
    <h1>üçΩÔ∏è Recomendador de Restaurantes</h1>
    <p>Complet√° tus preferencias y te sugerimos el mejor lugar.</p>
  </header>

  <main>
    <section class="card">
      <h2>Tus preferencias</h2>
      <div class="grid">
        <label>Presupuesto por persona (ARS)
          <input id="presupuesto" type="number" min="0" step="1">
        </label>
        <label>Tiempo m√°ximo hasta el lugar (min)
          <input id="tmax" type="number" min="1" step="1">
        </label>
        <label>Gustos (separados por espacio)
          <input id="gustos" type="text" placeholder="ej: italiana pizza">
        </label>
        <label>Restricciones (ej: sin_tacc vegano)
          <input id="restricciones" type="text" placeholder="">
        </label>
        <label class="full-width">üìç Direcci√≥n (opcional)
          <div style="display: flex; gap: 8px; margin-top: 4px;">
            <input id="direccion" type="text" placeholder="ej: Av. Corrientes 1234, CABA" style="flex: 1;">
            <button type="button" id="btnUbicacionAuto" style="padding: 8px 16px; white-space: nowrap;">üìç Usar mi ubicaci√≥n</button>
          </div>
          <small id="statusUbicacion" style="display: block; margin-top: 4px; color: #666; font-size: 0.85em;"></small>
          <input type="hidden" id="latitud">
          <input type="hidden" id="longitud">
        </label>
      </div>

      <details>
        <summary>Pesos avanzados (opcional)</summary>
        <div class="grid">
          <label>‚úîÔ∏é Importancia de la Afinidad
            <div class="stars-container" data-weight="wg">
              <span class="star" data-value="0.2">‚≠ê</span>
              <span class="star" data-value="0.4">‚≠ê</span>
              <span class="star" data-value="0.6">‚≠ê</span>
              <span class="star" data-value="0.8">‚≠ê</span>
              <span class="star" data-value="1.0">‚≠ê</span>
            </div>
            <input type="hidden" id="wg" value="0.35">
          </label>
          <label>$ Importancia del Precio
            <div class="stars-container" data-weight="wp">
              <span class="star" data-value="0.2">‚≠ê</span>
              <span class="star" data-value="0.4">‚≠ê</span>
              <span class="star" data-value="0.6">‚≠ê</span>
              <span class="star" data-value="0.8">‚≠ê</span>
              <span class="star" data-value="1.0">‚≠ê</span>
            </div>
            <input type="hidden" id="wp" value="0.20">
          </label>
          <label>üìç Importancia de la Cercan√≠a
            <div class="stars-container" data-weight="wd">
              <span class="star" data-value="0.2">‚≠ê</span>
              <span class="star" data-value="0.4">‚≠ê</span>
              <span class="star" data-value="0.6">‚≠ê</span>
              <span class="star" data-value="0.8">‚≠ê</span>
              <span class="star" data-value="1.0">‚≠ê</span>
            </div>
            <input type="hidden" id="wd" value="0.25">
          </label>
          <label>‚≠ê Importancia de la Calidad
            <div class="stars-container" data-weight="wq">
              <span class="star" data-value="0.2">‚≠ê</span>
              <span class="star" data-value="0.4">‚≠ê</span>
              <span class="star" data-value="0.6">‚≠ê</span>
              <span class="star" data-value="0.8">‚≠ê</span>
              <span class="star" data-value="1.0">‚≠ê</span>
            </div>
            <input type="hidden" id="wq" value="0.15">
          </label>
          <label>‚è± Importancia de la Disponibilidad
            <div class="stars-container" data-weight="wa">
              <span class="star" data-value="0.2">‚≠ê</span>
              <span class="star" data-value="0.4">‚≠ê</span>
              <span class="star" data-value="0.6">‚≠ê</span>
              <span class="star" data-value="0.8">‚≠ê</span>
              <span class="star" data-value="1.0">‚≠ê</span>
            </div>
            <input type="hidden" id="wa" value="0.05">
          </label>
        </div>
        <p class="hint">Hac√© clic en las estrellas para ajustar la importancia. El sistema normalizar√° autom√°ticamente los valores.</p>
      </details>
    </section>

    <section class="card">
      <h2>Contexto</h2>
      <div class="grid">
        <label>Clima
          <select id="clima">
            <option value="" selected disabled hidden>Selecciona una opci√≥n</option>
            <option value="templado">templado</option>
            <option value="lluvia">lluvia</option>
            <option value="frio">frio</option>
            <option value="calor">calor</option>
          </select>
        </label>
        <label>Franja
          <select id="franja">
            <option value="" selected disabled hidden>Selecciona una opci√≥n</option>
            <option>cena</option>
            <option>almuerzo</option>
            <option>desayuno</option>
            <option>merienda</option>
            <option>madrugada</option>
          </select>
        </label>
        <label>Grupo
          <select id="grupo">
            <option value="" selected disabled hidden>Selecciona una opci√≥n</option>
            <option>pareja</option>
            <option>amigos</option>
            <option>familia</option>
            <option>solo</option>
          </select>
        </label>
      </div>
    </section>

    <section class="card">
      <div class="row">
        <button class="primary" id="btnRecomendar">Obtener recomendaci√≥n</button>
      </div>
    </section>

    <section id="resultado" class="card hidden">
      <h2>Resultado</h2>
      <div id="top"></div>
      <h3>Alternativas</h3>
      <div id="lista"></div>
      <div class="row">
        <button id="btnCopiar">Copiar explicaci√≥n</button>
        <button id="btnDescargar">Descargar JSON</button>
      </div>
    </section>
  </main>

  <footer>
    <small>Demo acad√©mico ‚Äî Sistema Experto en CLIPS</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>